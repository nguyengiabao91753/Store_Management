@{
    ViewData["Title"] = "Home";
}

@section csslinks {
    <link rel="stylesheet" href="~/css/Home.css" asp-append-version="true" />
}

<div class="container-fluid px-4 mt-3">
    <div class="row">
        <!-- === LEFT CONTENT === -->
        <div class="col-lg-9">
            <!-- Categories -->
            <div class="d-flex gap-3 mb-3 overflow-auto pb-2">
                <div class="category-pill px-3 py-2 text-center">
                    <div class="spacer"></div>
                    <div class="fw-bold">All Menu</div>
                    <small class="text-muted">110 Items</small>
                </div>
                <div class="category-pill px-3 py-2 text-center">
                    <div class="spacer"></div>
                    <div>Breads</div>
                    <small class="text-muted">20 Items</small>
                </div>
                <div class="category-pill px-3 py-2 text-center">
                    <div class="spacer"></div>
                    <div>Cakes</div>
                    <small class="text-muted">20 Items</small>
                </div>
                <div class="category-pill px-3 py-2 text-center">
                    <div class="spacer"></div>
                    <div>Donuts</div>
                    <small class="text-muted">20 Items</small>
                </div>
                <div class="category-pill px-3 py-2 text-center">
                    <div class="spacer"></div>
                    <div>Sandwich</div>
                    <small class="text-muted">20 Items</small>
                </div>
            </div>

            <!-- Search -->
            <div class="mb-3">
                <div class="input-group">
                    <input id="searchInput" type="search" class="form-control"
                           placeholder="Search something sweet on your mind..." />
                    <button class="btn btn-outline-secondary">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>

            <!-- Products Grid -->
            <div id="productsGrid" class="row g-3"></div>
        </div>

        <!-- === CART PANEL === -->
        <div class="col-lg-3">
            <div class="cart-panel p-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div>
                        <strong>Eloise's Order</strong><br />
                        <small class="text-muted">Order #005</small>
                    </div>
                    <button class="btn btn-sm btn-outline-secondary" id="clearCartBtn">
                        <i class="fa fa-trash"></i>
                    </button>
                </div>

                <div id="cartList" class="cartList">
                    <div class="text-muted">No item selected</div>
                </div>

                <div class="mt-3">
                    <div class="d-flex justify-content-between">
                        <div>Subtotal</div>
                        <div id="subtotal">$0.00</div>
                    </div>
                    <div class="d-flex justify-content-between text-muted">
                        <div>Tax 10%</div>
                        <div id="tax">$0.00</div>
                    </div>
                    <hr />
                    <div class="d-flex justify-content-between fw-bold fs-5">
                        <div>TOTAL</div>
                        <div id="total">$0.00</div>
                    </div>
                    <div class="mt-3 d-flex gap-2">
                        <button class="btn btn-outline-secondary flex-grow-1">Promo</button>
                        <button class="btn btn-outline-primary">Payment</button>
                    </div>
                    <button id="placeOrderBtn" class="btn btn-primary w-100 mt-3">
                        Place Order
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- === TRACK ORDER PANEL === -->
<div id="trackOrderFixed" class="track-order-fixed" aria-hidden="true">
    <button id="trackToggleBtn" class="btn btn-primary track-toggle-btn">
        <i class="fa-solid fa-list me-2"></i> Track Order
    </button>

    <div class="track-panel" role="dialog" aria-label="Track orders panel">
        <div class="track-header d-flex justify-content-between align-items-center">
            <strong>Track Order</strong>
            <button id="trackCloseBtn" class="btn btn-sm btn-outline-secondary">&times;</button>
        </div>

        <div class="track-content">
            <div class="track-card">
                <strong>Mike</strong>
                <small class="text-muted d-block">Table: 04 · Dine In</small>
                <div class="mt-2 small text-muted">
                    Beef Crowich, Grains Pan Bread...
                </div>
            </div>
            <div class="track-card">
                <strong>Billie</strong>
                <small class="text-muted d-block">Table: 03 · Take Away</small>
            </div>
            <div class="track-card">
                <strong>Richard</strong>
                <small class="text-muted d-block">Table: 02 · Dine In</small>
            </div>
            <div class="track-card">
                <strong>Anna</strong>
                <small class="text-muted d-block">Table: 05 · Dine In</small>
            </div>
            <div class="track-card">
                <strong>Chris</strong>
                <small class="text-muted d-block">Table: 06 · Take Away</small>
            </div>
            <div class="track-card">
                <strong>Maria</strong>
                <small class="text-muted d-block">Table: 07 · Dine In</small>
            </div>
            <div class="track-card">
                <strong>Lee</strong>
                <small class="text-muted d-block">Table: 08 · Dine In</small>
            </div>
            <div class="track-card">
                <strong>Tom</strong>
                <small class="text-muted d-block">Table: 09 · Take Away</small>
            </div>
            <div class="track-card">
                <strong>Extra</strong>
                <small class="text-muted d-block">Table: 10 · Dine In</small>
            </div>
        </div>
    </div>
</div>

<!-- === PRODUCT MODAL === -->
<div class="modal fade" id="productModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3">
            <div class="modal-header border-0">
                <h5 class="modal-title">Product Detail</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="text-center">
                    <img id="modalImg" src="" alt="" class="img-fluid" style="max-height: 180px" />
                </div>
                <h5 id="modalTitle" class="mt-3"></h5>
                <p id="modalDesc" class="text-muted small">Description here</p>
                <div class="fs-4 fw-bold" id="modalPrice"></div>

                <div class="mt-3 d-flex align-items-center gap-2">
                    <button class="btn btn-outline-secondary" id="qtyMinus">-</button>
                    <input id="qtyInput" class="form-control text-center" value="1" style="width: 80px" />
                    <button class="btn btn-outline-secondary" id="qtyPlus">+</button>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button id="addToCartBtn" class="btn btn-primary w-100">Add to Cart</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/Home.js" asp-append-version="true"></script>
}
