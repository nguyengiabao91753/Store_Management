@* ==============================
   Partial View: _Sidebar.cshtml
   Dùng chung cho layout POS
   ============================== *@
@using Microsoft.AspNetCore.Http;
@using System.Security.Claims;

<div class="offcanvas offcanvas-start" tabindex="-1" id="menuSidebar">
    <div class="offcanvas-header">
        <div class="d-flex align-items-center gap-2">
            <div class="avatar rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center"
                 style="width: 42px; height: 42px">
                <i class="fa fa-user"></i>
            </div>
            <div>
                @if (User.Identity.IsAuthenticated)
                {
                    <div class="fw-semibold" id="cashierName">@User.FindFirst("FullName")?.Value</div>
                    <small class="text-muted">@User.FindFirst("DisplayRole")?.Value</small>
                }
                else
                {
                    <div class="fw-semibold" id="cashierName">Chưa đăng nhập</div>
                    <small class="text-muted">(Không xác định)</small>
                }
            </div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
    </div>

    <div class="offcanvas-body p-0">
        <div class="list-group list-group-flush">
            <a asp-controller="Home" asp-action="Index"
               class="list-group-item list-group-item-action py-3">
                <i class="fa fa-home me-2"></i> POS
            </a>

            @* <a asp-controller="BillingQueue" asp-action="Index" *@
            @*    class="list-group-item list-group-item-action py-3"> *@
            @*     <i class="fa-solid fa-list-ul me-2"></i> Billing Queue *@
            @* </a> *@

            <a asp-controller="OrderHistory" asp-action="Index"
               class="list-group-item list-group-item-action py-3">
                <i class="fa fa-list-check me-2"></i> Order History
            </a>

            <a asp-controller="Report" asp-action="Index"
               class="list-group-item list-group-item-action py-3">
                <i class="fa fa-chart-line me-2"></i> Report
            </a>

            <a asp-controller="Inventory" asp-action="Index"
               class="list-group-item list-group-item-action py-3">
                <i class="fa fa-boxes-stacked me-2"></i> Inventory
            </a>

            @* <a asp-controller="Teams" asp-action="Index" *@
            @*    class="list-group-item list-group-item-action py-3"> *@
            @*     <i class="fa fa-users me-2"></i> Teams *@
            @* </a> *@

            <a asp-controller="Settings" asp-action="Index"
               class="list-group-item list-group-item-action py-3">
                <i class="fa fa-gear me-2"></i> Settings
            </a>
        </div>

        <div class="mt-4 small text-muted">
            <strong>Cửa hàng...</strong><br />
            Hệ thống quản lý bán hàng
        </div>

        <div class="mt-3">
            <button class="btn btn-outline-danger w-100" onclick="logout()">
                <i class="fa fa-sign-out-alt me-2"></i> Đăng xuất
            </button>
        </div>
    </div>
</div>
